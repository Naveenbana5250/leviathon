apiVersion: v1
kind: Pod
metadata:
  name: dnscheck
spec:
  restartPolicy: Never
  containers:
  - name: dnscheck
    image: docker.io/library/busybox:1.36
    imagePullPolicy: IfNotPresent
    securityContext:
      privileged: false
      allowPrivilegeEscalation: false
    resources:
      requests: { cpu: "100m", memory: "128Mi" }
      limits:   { cpu: "200m", memory: "256Mi" }
    command: ["sh","-c"]
    args:
    - |
      nslookup index.docker.io || true
      wget -S -O - https://index.docker.io/v2/ 2>&1 | head -n 5 || true
